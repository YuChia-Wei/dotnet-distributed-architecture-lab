# 功能規格：[功能名稱]

**功能分支**: `[###-功能名稱]`  
**建立日期**: [日期]  
**狀態**: 草稿  
**輸入**: 使用者描述："$ARGUMENTS"

## 執行流程 (主要)
```
1. 從輸入解析使用者描述
   → 若為空：錯誤 "未提供功能描述"
2. 從描述中提取關鍵概念
   → 識別：參與者、動作、資料、限制
3. 對於每個不清楚的方面：
   → 標記為 [需要釐清：具體問題]
4. 填寫使用者情境與測試區塊
   → 若無明確使用者流程：錯誤 "無法確定使用者情境"
5. 產生功能需求
   → 每個需求都必須是可測試的
   → 標記模糊的需求
6. 識別關鍵實體 (如果涉及資料)
7. 執行審查檢查清單
   → 若有任何 [需要釐清]：警告 "規格存在不確定性"
   → 若發現實作細節：錯誤 "請移除技術細節"
8. 返回：成功 (規格已準備好進行規劃)
```

---

## ⚡ 快速指南
- ✅ 專注於使用者需要什麼 (WHAT) 以及為什麼 (WHY)
- ❌ 避免如何實作 (HOW) (無技術棧、API、程式碼結構)
- 👥 為業務關係人而非開發人員撰寫

### 章節要求
- **強制性章節**：每個功能都必須完成
- **選擇性章節**：僅在與功能相關時包含
- 當某個章節不適用時，請完全移除 (不要留空或寫 "N/A")

### 給 AI 生成的指示
從使用者提示建立此規格時：
1. **標記所有模糊之處**：對於您需要做出的任何假設，請使用 [需要釐清：具體問題]
2. **不要猜測**：如果提示未指定某些內容 (例如，「登入系統」但未說明驗證方法)，請標記它
3. **像測試人員一樣思考**：每個模糊的需求都應該無法通過「可測試且無歧義」的檢查項目
4. **常見的規格不足領域**：
   - 使用者類型與權限
   - 資料保留/刪除政策  
   - 效能目標與規模
   - 錯誤處理行為
   - 整合需求
   - 安全/合規需求

---

## 使用者情境與測試 *(強制)*

### 主要使用者故事
[用淺顯的語言描述主要的使用者旅程]

### 驗收情境
1. **假設** [初始狀態]，**當** [執行動作]，**則** [預期結果]
2. **假設** [初始狀態]，**當** [執行動作]，**則** [預期結果]

### 極端案例
- 當 [邊界條件] 發生時會怎麼樣？
- 系統如何處理 [錯誤情境]？

## 需求 *(強制)*

### 功能需求
- **FR-001**：系統必須 [具體能力，例如，「允許使用者建立帳戶」]
- **FR-002**：系統必須 [具體能力，例如，「驗證電子郵件地址」]  
- **FR-003**：使用者必須能夠 [關鍵互動，例如，「重設密碼」]
- **FR-004**：系統必須 [資料需求，例如，「保存使用者偏好設定」]
- **FR-005**：系統必須 [行為，例如，「記錄所有安全事件」]

*標記不清楚需求的範例：*
- **FR-006**：系統必須透過 [需要釐清：未指定驗證方法 - 電子郵件/密碼、SSO、OAuth？] 來驗證使用者
- **FR-007**：系統必須將使用者資料保留 [需要釐清：未指定保留期限]

### 關鍵實體 *(若功能涉及資料則包含)*
- **[實體 1]**：[它代表什麼，無實作細節的關鍵屬性]
- **[實體 2]**：[它代表什麼，與其他實體的關係]

---

## 審查與驗收檢查清單
*閘門：在 main() 執行期間運行的自動化檢查*

### 內容品質
- [ ] 無實作細節 (語言、框架、API)
- [ ] 專注於使用者價值與業務需求
- [ ] 為非技術背景的關係人撰寫
- [ ] 所有強制性章節皆已完成

### 需求完整性
- [ ] 沒有殘留的 [需要釐清] 標記
- [ ] 需求是可測試且無歧義的  
- [ ] 成功標準是可衡量的
- [ ] 範圍有明確界定
- [ ] 已識別依賴項與假設

---

## 執行狀態
*在處理過程中由 main() 更新*

- [ ] 已解析使用者描述
- [ ] 已提取關鍵概念
- [ ] 已標記模糊之處
- [ ] 已定義使用者情境
- [ ] 已產生需求
- [ ] 已識別實體
- [ ] 已通過審查檢查清單

---
